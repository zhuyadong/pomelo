"use strict";
const index_1 = require("../index");
module.exports = (app, opts) => {
    opts = opts || {};
    // cacheMsg is deprecated, just for compatibility here.
    opts.bufferMsg = opts.bufferMsg || opts.cacheMsg || false;
    opts.interval = opts.interval || 30;
    if (app.enabled("rpcDebugLog")) {
        opts.rpcDebugLog = true;
        opts.rpcLogger = require("pomelo-logger").getLogger("rpc-debug", __filename);
    }
    return new index_1.RemoteComponent(app, opts);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVtb3RlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsicmVtb3RlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxvQ0FBd0Q7QUFFeEQsaUJBQVMsQ0FBQyxHQUFnQixFQUFFLElBQVUsRUFBRSxFQUFFO0lBQ3hDLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO0lBRWxCLHVEQUF1RDtJQUN2RCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxLQUFLLENBQUM7SUFDMUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQztJQUNwQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUN4QixJQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxTQUFTLENBQ2pELFdBQVcsRUFDWCxVQUFVLENBQ1gsQ0FBQztJQUNKLENBQUM7SUFDRCxNQUFNLENBQUMsSUFBSSx1QkFBZSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN4QyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBsaWNhdGlvbiwgUmVtb3RlQ29tcG9uZW50IH0gZnJvbSBcIi4uL2luZGV4XCI7XHJcblxyXG5leHBvcnQgPSAoYXBwOiBBcHBsaWNhdGlvbiwgb3B0cz86IGFueSkgPT4ge1xyXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xyXG5cclxuICAvLyBjYWNoZU1zZyBpcyBkZXByZWNhdGVkLCBqdXN0IGZvciBjb21wYXRpYmlsaXR5IGhlcmUuXHJcbiAgb3B0cy5idWZmZXJNc2cgPSBvcHRzLmJ1ZmZlck1zZyB8fCBvcHRzLmNhY2hlTXNnIHx8IGZhbHNlO1xyXG4gIG9wdHMuaW50ZXJ2YWwgPSBvcHRzLmludGVydmFsIHx8IDMwO1xyXG4gIGlmIChhcHAuZW5hYmxlZChcInJwY0RlYnVnTG9nXCIpKSB7XHJcbiAgICBvcHRzLnJwY0RlYnVnTG9nID0gdHJ1ZTtcclxuICAgIG9wdHMucnBjTG9nZ2VyID0gcmVxdWlyZShcInBvbWVsby1sb2dnZXJcIikuZ2V0TG9nZ2VyKFxyXG4gICAgICBcInJwYy1kZWJ1Z1wiLFxyXG4gICAgICBfX2ZpbGVuYW1lXHJcbiAgICApO1xyXG4gIH1cclxuICByZXR1cm4gbmV3IFJlbW90ZUNvbXBvbmVudChhcHAsIG9wdHMpO1xyXG59O1xyXG4iXX0=