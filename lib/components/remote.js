"use strict";
const index_1 = require("../index");
module.exports = (app, opts) => {
    opts = opts || {};
    // cacheMsg is deprecated, just for compatibility here.
    opts.bufferMsg = opts.bufferMsg || opts.cacheMsg || false;
    opts.interval = opts.interval || 30;
    if (app.enabled("rpcDebugLog")) {
        opts.rpcDebugLog = true;
        opts.rpcLogger = require("pomelo-logger").getLogger("rpc-debug", __filename);
    }
    return new index_1.RemoteComponent(app, opts);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVtb3RlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsicmVtb3RlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxvQ0FBd0Q7QUFFeEQsaUJBQVMsQ0FBQyxHQUFnQixFQUFFLElBQVUsRUFBRSxFQUFFO0lBQ3hDLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO0lBRWxCLHVEQUF1RDtJQUN2RCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxLQUFLLENBQUM7SUFDMUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQztJQUNwQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUN4QixJQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxTQUFTLENBQ2pELFdBQVcsRUFDWCxVQUFVLENBQ1gsQ0FBQztJQUNKLENBQUM7SUFDRCxNQUFNLENBQUMsSUFBSSx1QkFBZSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN4QyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBsaWNhdGlvbiwgUmVtb3RlQ29tcG9uZW50IH0gZnJvbSBcIi4uL2luZGV4XCI7XG5cbmV4cG9ydCA9IChhcHA6IEFwcGxpY2F0aW9uLCBvcHRzPzogYW55KSA9PiB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIC8vIGNhY2hlTXNnIGlzIGRlcHJlY2F0ZWQsIGp1c3QgZm9yIGNvbXBhdGliaWxpdHkgaGVyZS5cbiAgb3B0cy5idWZmZXJNc2cgPSBvcHRzLmJ1ZmZlck1zZyB8fCBvcHRzLmNhY2hlTXNnIHx8IGZhbHNlO1xuICBvcHRzLmludGVydmFsID0gb3B0cy5pbnRlcnZhbCB8fCAzMDtcbiAgaWYgKGFwcC5lbmFibGVkKFwicnBjRGVidWdMb2dcIikpIHtcbiAgICBvcHRzLnJwY0RlYnVnTG9nID0gdHJ1ZTtcbiAgICBvcHRzLnJwY0xvZ2dlciA9IHJlcXVpcmUoXCJwb21lbG8tbG9nZ2VyXCIpLmdldExvZ2dlcihcbiAgICAgIFwicnBjLWRlYnVnXCIsXG4gICAgICBfX2ZpbGVuYW1lXG4gICAgKTtcbiAgfVxuICByZXR1cm4gbmV3IFJlbW90ZUNvbXBvbmVudChhcHAsIG9wdHMpO1xufTtcbiJdfQ==